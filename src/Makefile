XMLPATH := AnalyseurXML/
DTDPATH := AnalyseurDTD/
SRC:= main.cpp XMLClass/*.cpp DTDClass/*.cpp ProcesseurHTML/HTMLProc.cpp
OBJ:= main.o Element.o DocXML.o Balise.o Data.o DtdDocument.o DtdBalise.o DtdElement.o AttList.o AttDef.o ElementAttBase.o ElementAtt.o ElementAttList.o HTMLProc.o

all: analyseXMLDTD

analyseXMLDTD: ${SRC} 
	
	@make -C ${XMLPATH} 
	@make -C ${DTDPATH} 

	@g++ -g -c ${SRC}
	@g++ -DYYDEBUG=1 -g -o analyseXMLDTD ${OBJ} ${DTDPATH}lex.dtd.o ${DTDPATH}dtd.tab.o ${XMLPATH}lex.xml.o ${XMLPATH}xml.tab.o

clean:
	@make -C ${XMLPATH} clean
	@make -C ${DTDPATH} clean
	@-rm -rf *.o analyseXMLDTD

Test :
	@echo "\nTest rap1.xml\n"
	./analyseXMLDTD Tests/rap1.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"
	
	@echo "\nTest rap1.xml rap1.xsl\n"
	./analyseXMLDTD Tests/rap1.xml Tests/rap1.xsl
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap2.xml\n"
	./analyseXMLDTD Tests/rap2.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap2.xml rap2.xsl\n"
	./analyseXMLDTD Tests/rap2.xml Tests/rap2.xsl
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap3.xml\n"
	./analyseXMLDTD Tests/rap3.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap4.xml\n"
	./analyseXMLDTD Tests/rap4.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap5.xml\n"
	./analyseXMLDTD Tests/rap5.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

	@echo "\nTest rap6.xml\n"
	./analyseXMLDTD Tests/rap6.xml
	@echo "============================================================================================================================================================================================================================================================================================================================================================================"

